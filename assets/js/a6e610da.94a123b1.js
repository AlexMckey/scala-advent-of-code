"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2255],{8133:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var i=a(7462),n=(a(7294),a(3905)),r=a(6340);const o={},s="Day 3: Rucksack Reorganization",l={unversionedId:"2022/puzzles/day03",id:"2022/puzzles/day03",title:"Day 3: Rucksack Reorganization",description:"by @bishabosha",source:"@site/target/mdoc/2022/puzzles/day03.md",sourceDirName:"2022/puzzles",slug:"/2022/puzzles/day03",permalink:"/scala-advent-of-code/2022/puzzles/day03",draft:!1,editUrl:"https://github.com/scalacenter/scala-advent-of-code/edit/website/docs/2022/puzzles/day03.md",tags:[],version:"current",frontMatter:{},sidebar:"adventOfCodeSidebar",previous:{title:"Day 2: Rock Paper Scissors",permalink:"/scala-advent-of-code/2022/puzzles/day02"},next:{title:"Day 4: Camp Cleanup",permalink:"/scala-advent-of-code/2022/puzzles/day04"}},p={},c=[{value:"Puzzle description",id:"puzzle-description",level:2},{value:"Final Code",id:"final-code",level:2},{value:"Run it in the browser",id:"run-it-in-the-browser",level:3},{value:"Part 1",id:"part-1",level:4},{value:"Part 2",id:"part-2",level:4},{value:"Solutions from the community",id:"solutions-from-the-community",level:2}],d={toc:c};function u(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,i.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"day-3-rucksack-reorganization"},"Day 3: Rucksack Reorganization"),(0,n.kt)("p",null,"by ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/bishabosha"},"@bishabosha")),(0,n.kt)("h2",{id:"puzzle-description"},"Puzzle description"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://adventofcode.com/2022/day/3"},"https://adventofcode.com/2022/day/3")),(0,n.kt)("h2",{id:"final-code"},"Final Code"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-scala"},"def part1(input: String): Int =\n  val intersections =\n    for line <- input.linesIterator yield\n      val (left, right) = line.splitAt(line.length / 2)\n      (priorities(left) & priorities(right)).head\n  intersections.sum\n\ndef part2(input: String): Int =\n  val badges =\n    for case Seq(a, b, c) <- input.linesIterator.grouped(3) yield\n      (priorities(a) & priorities(b) & priorities(c)).head\n  badges.sum\n\ndef priorities(str: String) = str.foldLeft(Priorities.emptySet)(_ add _)\n\nobject Priorities:\n  opaque type Set = Long // can fit all 52 priorities in a bitset\n\n  // encode priorities as a random access lookup\n  private val lookup =\n    val arr = new Array[Int](128) // max key is `'z'.toInt == 122`\n    for (c, i) <- (('a' to 'z') ++ ('A' to 'Z')).zipWithIndex do\n      arr(c.toInt) = i + 1\n    IArray.unsafeFromArray(arr)\n\n  val emptySet: Set = 0L\n\n  extension (priorities: Set)\n    infix def add(c: Char): Set = priorities | (1L << lookup(c.toInt))\n    infix def &(that: Set): Set = priorities & that\n    def head: Int = java.lang.Long.numberOfTrailingZeros(priorities)\n\nend Priorities\n")),(0,n.kt)("h3",{id:"run-it-in-the-browser"},"Run it in the browser"),(0,n.kt)("h4",{id:"part-1"},"Part 1"),(0,n.kt)(r.Z,{puzzle:"day03-part1",year:"2022",mdxType:"Solver"}),(0,n.kt)("h4",{id:"part-2"},"Part 2"),(0,n.kt)(r.Z,{puzzle:"day03-part2",year:"2022",mdxType:"Solver"}),(0,n.kt)("h2",{id:"solutions-from-the-community"},"Solutions from the community"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/Jannyboy11/AdventOfCode2022/blob/master/src/main/scala/day03/Day03.scala"},"Solution")," of ",(0,n.kt)("a",{parentName:"li",href:"https://twitter.com/JanBoerman95"},"Jan Boerman"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/SimY4/advent-of-code-scala/blob/master/src/main/scala/aoc/y2022/Day3.scala"},"Solution")," of ",(0,n.kt)("a",{parentName:"li",href:"https://twitter.com/actinglikecrazy"},"SimY4"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/cosminci/advent-of-code/blob/master/src/main/scala/com/github/cosminci/aoc/_2022/Day3.scala"},"Solution")," by Cosmin Ciobanu"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/prinsniels/AdventOfCode2022/blob/master/src/main/scala/day03.scala"},"Solution")," by ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/prinsniels"},"Niels Prins"))),(0,n.kt)("p",null,"Share your solution to the Scala community by editing this page. (You can even write the whole article!)"))}u.isMDXComponent=!0}}]);