"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9965],{4873:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>m});var n=a(7462),o=(a(7294),a(3905)),r=a(6340);const s={},i="Day 5: Supply Stacks",l={unversionedId:"2022/puzzles/day05",id:"2022/puzzles/day05",title:"Day 5: Supply Stacks",description:"by @bishabosha",source:"@site/target/mdoc/2022/puzzles/day05.md",sourceDirName:"2022/puzzles",slug:"/2022/puzzles/day05",permalink:"/scala-advent-of-code/2022/puzzles/day05",draft:!1,editUrl:"https://github.com/scalacenter/scala-advent-of-code/edit/website/docs/2022/puzzles/day05.md",tags:[],version:"current",frontMatter:{},sidebar:"adventOfCodeSidebar",previous:{title:"Day 4: Camp Cleanup",permalink:"/scala-advent-of-code/2022/puzzles/day04"},next:{title:"Day 6: Tuning Trouble",permalink:"/scala-advent-of-code/2022/puzzles/day06"}},c={},m=[{value:"Puzzle description",id:"puzzle-description",level:2},{value:"Final Code",id:"final-code",level:2},{value:"Run it in the browser",id:"run-it-in-the-browser",level:3},{value:"Part 1",id:"part-1",level:4},{value:"Part 2",id:"part-2",level:4},{value:"Solutions from the community",id:"solutions-from-the-community",level:2}],p={toc:m};function d(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"day-5-supply-stacks"},"Day 5: Supply Stacks"),(0,o.kt)("p",null,"by ",(0,o.kt)("a",{parentName:"p",href:"https://twitter.com/bishabosha"},"@bishabosha")),(0,o.kt)("h2",{id:"puzzle-description"},"Puzzle description"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://adventofcode.com/2022/day/5"},"https://adventofcode.com/2022/day/5")),(0,o.kt)("h2",{id:"final-code"},"Final Code"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},"def part1(input: String): String =\n  moveAllCrates(input, _ reverse_::: _) // concat in reverse order\n\ndef part2(input: String): String =\n  moveAllCrates(input, _ ::: _) // concat in normal order\n\n/** each column is 4 chars wide (or 3 if terminal) */\ndef parseRow(row: String) =\n  for i <- 0 to row.length by 4 yield\n    if row(i) == '[' then\n      row(i + 1) // the crate id\n    else\n      '#' // empty slot\n\ndef parseColumns(header: IndexedSeq[String]): IndexedSeq[List[Char]] =\n  val crates :+ colsStr = header: @unchecked\n  val columns = colsStr.split(\" \").filter(_.nonEmpty).length\n\n  val rows = crates.map(parseRow(_).padTo(columns, '#')) // pad empty slots at the end\n\n  // transpose the rows to get the columns, then remove the terminal empty slots from each column\n  rows.transpose.map(_.toList.filterNot(_ == '#'))\nend parseColumns\n\ndef moveAllCrates(input: String, moveCrates: (List[Char], List[Char]) => List[Char]): String =\n  val (headerLines, rest0) = input.linesIterator.span(_.nonEmpty)\n  val instructions = rest0.drop(1) // drop the empty line after the header\n\n  def move(cols: IndexedSeq[List[Char]], n: Int, idxA: Int, idxB: Int) =\n    val (toMove, aRest) = cols(idxA).splitAt(n)\n    val b2 = moveCrates(toMove, cols(idxB))\n    cols.updated(idxA, aRest).updated(idxB, b2)\n\n  val columns = parseColumns(headerLines.to(IndexedSeq))\n\n  val columns1 = instructions.foldLeft(columns) { case (columns, s\"move $n from $a to $b\") =>\n    move(columns, n.toInt, a.toInt - 1, b.toInt - 1)\n  }\n  columns1.map(_.head).mkString\nend moveAllCrates\n")),(0,o.kt)("h3",{id:"run-it-in-the-browser"},"Run it in the browser"),(0,o.kt)("h4",{id:"part-1"},"Part 1"),(0,o.kt)(r.Z,{puzzle:"day05-part1",year:"2022",mdxType:"Solver"}),(0,o.kt)("h4",{id:"part-2"},"Part 2"),(0,o.kt)(r.Z,{puzzle:"day05-part2",year:"2022",mdxType:"Solver"}),(0,o.kt)("h2",{id:"solutions-from-the-community"},"Solutions from the community"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/Jannyboy11/AdventOfCode2022/blob/master/src/main/scala/day05/Day05.scala"},"Solution")," of ",(0,o.kt)("a",{parentName:"li",href:"https://twitter.com/JanBoerman95"},"Jan Boerman"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/SethTisue/adventofcode/blob/main/2022/src/test/scala/Day05.scala"},"Solution")," of ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/SethTisue"},"Seth Tisue"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/SimY4/advent-of-code-scala/blob/master/src/main/scala/aoc/y2022/Day5.scala"},"Solution")," of ",(0,o.kt)("a",{parentName:"li",href:"https://twitter.com/actinglikecrazy"},"SimY4"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/stewSquared/advent-of-code-scala/blob/master/src/main/scala/2022/Day05.worksheet.sc"},"Solution")," of ",(0,o.kt)("a",{parentName:"li",href:"https://twitter.com/stewSqrd"},"Stewart Stewart"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/cosminci/advent-of-code/blob/master/src/main/scala/com/github/cosminci/aoc/_2022/Day5.scala"},"Solution")," by Cosmin Ciobanu"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/prinsniels/AdventOfCode2022/blob/master/src/main/scala/day05.scala"},"Solution")," by ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/prinsniels"},"Niels Prins")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/w-r-z-k/aoc2022/blob/main/src/main/scala/Day5.scala"},"Solution")," by Richard W"),(0,o.kt)("li",{parentName:"ul"},"Solution ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/erikvanoosten/advent-of-code/blob/main/src/main/scala/nl/grons/advent/y2022/Day5Part1.scala"},"part1")," and ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/erikvanoosten/advent-of-code/blob/main/src/main/scala/nl/grons/advent/y2022/Day5Part2.scala"},"part2")," by ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/erikvanoosten"},"Erik van Oosten"))),(0,o.kt)("p",null,"Share your solution to the Scala community by editing this page. (You can even write the whole article!)"))}d.isMDXComponent=!0}}]);