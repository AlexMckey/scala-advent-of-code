<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.7">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script src="https://plausible.scala-lang.org/js/script.js" defer="defer" async data-domain="scalacenter.github.io"></script><title data-react-helmet="true">Day 23: Amphipod | Scala Center Advent of Code</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://scalacenter.github.io//scala-advent-of-code/puzzles/day23"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Day 23: Amphipod | Scala Center Advent of Code"><meta data-react-helmet="true" name="description" content="by @adpi2"><meta data-react-helmet="true" property="og:description" content="by @adpi2"><link data-react-helmet="true" rel="shortcut icon" href="/scala-advent-of-code/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://scalacenter.github.io//scala-advent-of-code/puzzles/day23"><link data-react-helmet="true" rel="alternate" href="https://scalacenter.github.io//scala-advent-of-code/puzzles/day23" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://scalacenter.github.io//scala-advent-of-code/puzzles/day23" hreflang="x-default"><link rel="stylesheet" href="/scala-advent-of-code/assets/css/styles.16a73e1b.css">
<link rel="preload" href="/scala-advent-of-code/assets/js/runtime~main.cff3ab2b.js" as="script">
<link rel="preload" href="/scala-advent-of-code/assets/js/main.339c7521.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/scala-advent-of-code/"><div class="navbar__logo"><img src="/scala-advent-of-code/img/scala-tree.png" alt="Scala Center" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/scala-advent-of-code/img/scala-tree.png" alt="Scala Center" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Scala Advent of Code</b></a><a class="navbar__item navbar__link navbar__link--active" href="/scala-advent-of-code/introduction">Introduction</a><a class="navbar__item navbar__link navbar__link--active" href="/scala-advent-of-code/setup">Setup</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Puzzles</a><ul class="dropdown__menu"><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day1">Day 1</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day2">Day 2</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day3">Day 3</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day4">Day 4</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day5">Day 5</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day6">Day 6</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day7">Day 7</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day8">Day 8</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day9">Day 9</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day10">Day 10</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day11">Day 11</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day12">Day 12</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day13">Day 13</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day14">Day 14</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day15">Day 15</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day16">Day 16</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day17">Day 17</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day20">Day 20</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day21">Day 21</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day22">Day 22</a></li><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day23">Day 23</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day24">Day 24</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day25">Day 25</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/scalacenter/scala-advent-of-code" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/scala-advent-of-code/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/scala-advent-of-code/setup">Setup</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Puzzles</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day1">Day 1: Sonar Sweep</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day2">Day 2: Dive!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day3">Day 3: Binary Diagnostic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day4">Day 4: Giant Squid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day5">Day 5: Hydrothermal Venture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day6">Day 6: Lanternfish</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day7">Day 7: The Treachery of Whales</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day8">Day 8: Seven Segment Search</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day9">Day 9: Smoke Basin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day10">Day 10: Syntax Scoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day11">Day 11: Dumbo Octopus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day12">Day 12: Passage Pathing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day13">Day 13: Transparent Origami</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day14">Day 14: Extended Polymerization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day15">Day 15: Chiton</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day16">Day 16: Packet Decoder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day17">Day 17: Trick Shot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day18">Day 18: Snailfish</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day19">Day 19: Beacon Scanner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day20">Day 20: Trench Map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day21">Day 21: Dirac Dice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day22">Day 22: Reactor Reboot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/scala-advent-of-code/puzzles/day23">Day 23: Amphipod</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day24">Day 24: Arithmetic Logic Unit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day25">Day 25: Sea Cucumber</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Day 23: Amphipod</h1></header><p>by @adpi2</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="puzzle-description">Puzzle description<a aria-hidden="true" class="hash-link" href="#puzzle-description" title="Direct link to heading">â€‹</a></h2><p><a href="https://adventofcode.com/2021/day/23" target="_blank" rel="noopener noreferrer">https://adventofcode.com/2021/day/23</a></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="modeling-and-parsing-the-input">Modeling and parsing the input<a aria-hidden="true" class="hash-link" href="#modeling-and-parsing-the-input" title="Direct link to heading">â€‹</a></h2><p>We model <code>Position</code> as a case class containing two integer fields: <code>x</code> and <code>y</code>.</p><p><code>Room</code> is a enumeration of 4 cases from <code>A</code> to <code>D</code> and it is parameterized by the coordinate <code>x</code> of the room in the diagram.</p><p>Likewise, <code>Amphipod</code> is an enumeration of 4 cases from <code>A</code> to <code>D</code> and it is parameterized by its energy cost and destination room.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">case class Position(x: Int, y: Int)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enum Room(val x: Int):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case A extends Room(3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case B extends Room(5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case C extends Room(7)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case D extends Room(9)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Energy = Int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enum Amphipod(val energy: Energy, val destination: Room):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case A extends Amphipod(1, Room.A)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case B extends Amphipod(10, Room.B)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case C extends Amphipod(100, Room.C)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case D extends Amphipod(1000, Room.D)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We model a situation as a case class of all the occupied positions and the size of the room (this will be needed for part 2).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">case class Situation(positions: Map[Position, Amphipod], roomSize: Int)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We can parse the input file into the initial <code>Situation</code> with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">object Situation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def parse(input: String, roomSize: Int): Situation =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val positions =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (line, y) &lt;- input.linesIterator.zipWithIndex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (char, x) &lt;- line.zipWithIndex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        amphipod &lt;- Amphipod.tryParse(char)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      yield Position(x, y) -&gt; amphipod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Situation(positions.toMap, roomSize)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>where <code>Amphipod.tryParse</code> is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">object Amphipod:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def tryParse(input: Char): Option[Amphipod] =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input match</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;A&#x27; =&gt; Some(Amphipod.A)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;B&#x27; =&gt; Some(Amphipod.B)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;C&#x27; =&gt; Some(Amphipod.C)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;D&#x27; =&gt; Some(Amphipod.D)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case _ =&gt; None</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="using-dijkstras-algorithm-to-solve-the-puzzle">Using Dijkstra&#x27;s algorithm to solve the puzzle<a aria-hidden="true" class="hash-link" href="#using-dijkstras-algorithm-to-solve-the-puzzle" title="Direct link to heading">â€‹</a></h2><p>Dijkstra&#x27;s algorithm is used for finding the shortest path between two nodes in a graph.
Our intuition here is that the puzzle can be modeled as a graph and solved using Dijkstra&#x27;s algorithm.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="a-graph-of-situations">A graph of situations<a aria-hidden="true" class="hash-link" href="#a-graph-of-situations" title="Direct link to heading">â€‹</a></h3><p>We can think of the puzzle as a graph of situations, where a node is an instance of <code>Situation</code>, an edge is an amphipod&#x27;s move whose weight is the energy cost of the move.</p><p>In such a graph, two situations are connected if there is an amphipod move that transform the first situation into the second.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="implementing-the-dijkstras-solver">Implementing the Dijkstra&#x27;s solver<a aria-hidden="true" class="hash-link" href="#implementing-the-dijkstras-solver" title="Direct link to heading">â€‹</a></h3><p>We want to find the minimal energy cost to go from the initial situation to the final situation, where all amphipods are located in their destination room.
This is the energy cost of the shortest path between the two situations in the graph described above.
We can use Dijkstra&#x27;s algorithm to find it.</p><p>Here is our implementation:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class DijkstraSolver(initialSituation: Situation):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private val bestSituations = mutable.Map(initialSituation -&gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private val situationsToExplore =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mutable.PriorityQueue((initialSituation, 0))(Ordering.by((_, energy) =&gt; -energy))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @tailrec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  final def solve(): Energy =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val (situation, energy) = situationsToExplore.dequeue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if situation.isFinal then energy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else if bestSituations(situation) &lt; energy then solve()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (nextSituation, consumedEnergy) &lt;- situation.moveAllAmphipodsOnce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nextEnergy = energy + consumedEnergy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        knownEnergy = bestSituations.getOrElse(nextSituation, Int.MaxValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if nextEnergy &lt; knownEnergy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bestSituations.update(nextSituation, nextEnergy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        situationsToExplore.enqueue((nextSituation, nextEnergy))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      solve()</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>At the beginning we only know the cost of the initial situation which is 0.</p><p>The <code>solve</code> method is recursive:</p><ol><li>First we dequeue the best known situation in the <code>situationToExplore</code> queue.</li><li>If it is the final situation, we return the associated energy cost.</li><li>If it is not:</li></ol><ul><li>We compute all the situations connected to it by moving all amphipods once.</li><li>For each of these new situations, we check if the energy cost is better than before and if so we add it into the queue.</li><li>We recurse by calling <code>solve</code> again.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="final-solution">Final solution<a aria-hidden="true" class="hash-link" href="#final-solution" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// using scala 3.1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">package day23</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import scala.util.Using</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import scala.io.Source</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import scala.annotation.tailrec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import scala.collection.mutable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@main def part1(): Unit =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val answer = part1(readInput())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  println(s&quot;The answer is: $answer&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@main def part2(): Unit =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val answer = part2(readInput())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  println(s&quot;The answer is: $answer&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def readInput(): String =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Using.resource(Source.fromFile(&quot;input/day23&quot;))(_.mkString)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">case class Position(x: Int, y: Int)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enum Room(val x: Int):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case A extends Room(3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case B extends Room(5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case C extends Room(7)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case D extends Room(9)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Energy = Int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enum Amphipod(val energy: Energy, val destination: Room):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case A extends Amphipod(1, Room.A)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case B extends Amphipod(10, Room.B)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case C extends Amphipod(100, Room.C)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case D extends Amphipod(1000, Room.D)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object Amphipod:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def tryParse(input: Char): Option[Amphipod] =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input match</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;A&#x27; =&gt; Some(Amphipod.A)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;B&#x27; =&gt; Some(Amphipod.B)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;C&#x27; =&gt; Some(Amphipod.C)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;D&#x27; =&gt; Some(Amphipod.D)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case _ =&gt; None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">val hallwayStops: Seq[Position] = Seq(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Position(1, 1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Position(2, 1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Position(4, 1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Position(6, 1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Position(8, 1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Position(10, 1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Position(11, 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">case class Situation(positions: Map[Position, Amphipod], roomSize: Int):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def moveAllAmphipodsOnce: Seq[(Situation, Energy)] =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      (start, amphipod) &lt;- positions.toSeq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      stop &lt;- nextStops(amphipod, start)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      path = getPath(start, stop)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if path.forall(isEmpty)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    yield</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      val newPositions = positions - start + (stop -&gt; amphipod)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      val energy = path.size * amphipod.energy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      (copy(positions = newPositions), energy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def isFinal =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    positions.forall((position, amphipod) =&gt; position.x == amphipod.destination.x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * Return a list of positions to which an amphipod at position `from` can go:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * - If the amphipod is in its destination room and the room is free it must not go anywhere.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * - If the amphipod is in its destination room and the room is not free it can go to the hallway.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * - If the amphipod is in the hallway it can only go to its destination.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * - Otherwise it can go to the hallway.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private def nextStops(amphipod: Amphipod, from: Position): Seq[Position] =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    from match</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case Position(x, y) if x == amphipod.destination.x =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if isDestinationFree(amphipod) then Seq.empty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else hallwayStops</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case Position(_, 1) =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if isDestinationFree(amphipod) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          (roomSize + 1).to(2, step = -1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .map(y =&gt; Position(amphipod.destination.x, y))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .find(isEmpty)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .toSeq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else Seq.empty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case _ =&gt; hallwayStops</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private def isDestinationFree(amphipod: Amphipod): Boolean =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2.to(roomSize + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .flatMap(y =&gt; positions.get(Position(amphipod.destination.x, y)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      .forall(_ == amphipod)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Build the path to go from `start` to `stop`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private def getPath(start: Position, stop: Position): Seq[Position] =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val hallway = </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if start.x &lt; stop.x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      then (start.x + 1).to(stop.x).map(Position(_, 1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      else (start.x - 1).to(stop.x, step = -1).map(Position(_, 1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val startRoom = (start.y - 1).to(1, step = -1).map(Position(start.x, _))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val stopRoom = 2.to(stop.y).map(Position(stop.x, _))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    startRoom ++ hallway ++ stopRoom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private def isEmpty(position: Position) =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    !positions.contains(position)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object Situation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def parse(input: String, roomSize: Int): Situation =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val positions =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (line, y) &lt;- input.linesIterator.zipWithIndex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (char, x) &lt;- line.zipWithIndex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        amphipod &lt;- Amphipod.tryParse(char)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      yield Position(x, y) -&gt; amphipod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Situation(positions.toMap, roomSize)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class DijkstraSolver(initialSituation: Situation):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private val bestSituations = mutable.Map(initialSituation -&gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private val situationsToExplore =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mutable.PriorityQueue((initialSituation, 0))(Ordering.by((_, energy) =&gt; -energy))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @tailrec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  final def solve(): Energy =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val (situation, energy) = situationsToExplore.dequeue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if situation.isFinal then energy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else if bestSituations(situation) &lt; energy then solve()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (nextSituation, consumedEnergy) &lt;- situation.moveAllAmphipodsOnce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nextEnergy = energy + consumedEnergy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        knownEnergy = bestSituations.getOrElse(nextSituation, Int.MaxValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if nextEnergy &lt; knownEnergy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bestSituations.update(nextSituation, nextEnergy)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        situationsToExplore.enqueue((nextSituation, nextEnergy))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      solve()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def part1(input: String): Energy =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val initialSituation = Situation.parse(input, roomSize = 2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  DijkstraSolver(initialSituation).solve()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def part2(input: String): Energy =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val lines = input.linesIterator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val unfoldedInput = (lines.take(3) ++ Seq(&quot;  #D#C#B#A#&quot;, &quot;  #D#B#A#C#&quot;) ++ lines.take(2)).mkString(&quot;\n&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val initialSituation = Situation.parse(unfoldedInput, roomSize = 4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  DijkstraSolver(initialSituation).solve()</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="run-it-in-the-browser">Run it in the browser<a aria-hidden="true" class="hash-link" href="#run-it-in-the-browser" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="part-1">Part 1<a aria-hidden="true" class="hash-link" href="#part-1" title="Direct link to heading">â€‹</a></h3><div id="day23-part1"></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="part-2">Part 2<a aria-hidden="true" class="hash-link" href="#part-2" title="Direct link to heading">â€‹</a></h3><div id="day23-part2"></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="run-it-locally">Run it locally<a aria-hidden="true" class="hash-link" href="#run-it-locally" title="Direct link to heading">â€‹</a></h2><p>You can get this solution locally by cloning the <a href="https://github.com/scalacenter/scala-advent-of-code" target="_blank" rel="noopener noreferrer">scalacenter/scala-advent-of-code</a> repository.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ git clone https://github.com/scalacenter/scala-advent-of-code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd scala-advent-of-code</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can run it with <a href="https://scala-cli.virtuslab.org/" target="_blank" rel="noopener noreferrer">scala-cli</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ scala-cli src -M day21.part1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The answer is: 855624</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ scala-cli src -M day21.part2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The answer is: 187451244607486</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can replace the content of the <code>input/day21</code> file with your own input from <a href="https://adventofcode.com/2021/day/21" target="_blank" rel="noopener noreferrer">adventofcode.com</a> to get your own solution.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="solutions-from-the-community">Solutions from the community<a aria-hidden="true" class="hash-link" href="#solutions-from-the-community" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://github.com/FlorianCassayre/AdventOfCode-2021/blob/master/src/main/scala/adventofcode/solutions/Day23.scala" target="_blank" rel="noopener noreferrer">Solution</a> of <a href="https://github.com/FlorianCassayre" target="_blank" rel="noopener noreferrer">@FlorianCassayre</a>.</li></ul><p>Share your solution to the Scala community by editing this page.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/scalacenter/scala-advent-of-code/edit/website/docs/puzzles/day23.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/scala-advent-of-code/puzzles/day22"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Day 22: Reactor Reboot</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/scala-advent-of-code/puzzles/day24"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Day 24: Arithmetic Logic Unit<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#puzzle-description" class="table-of-contents__link toc-highlight">Puzzle description</a></li><li><a href="#modeling-and-parsing-the-input" class="table-of-contents__link toc-highlight">Modeling and parsing the input</a></li><li><a href="#using-dijkstras-algorithm-to-solve-the-puzzle" class="table-of-contents__link toc-highlight">Using Dijkstra&#39;s algorithm to solve the puzzle</a><ul><li><a href="#a-graph-of-situations" class="table-of-contents__link toc-highlight">A graph of situations</a></li><li><a href="#implementing-the-dijkstras-solver" class="table-of-contents__link toc-highlight">Implementing the Dijkstra&#39;s solver</a></li></ul></li><li><a href="#final-solution" class="table-of-contents__link toc-highlight">Final solution</a></li><li><a href="#run-it-in-the-browser" class="table-of-contents__link toc-highlight">Run it in the browser</a><ul><li><a href="#part-1" class="table-of-contents__link toc-highlight">Part 1</a></li><li><a href="#part-2" class="table-of-contents__link toc-highlight">Part 2</a></li></ul></li><li><a href="#run-it-locally" class="table-of-contents__link toc-highlight">Run it locally</a></li><li><a href="#solutions-from-the-community" class="table-of-contents__link toc-highlight">Solutions from the community</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Content</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/scala-advent-of-code/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/scala-advent-of-code/setup">Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/scala-advent-of-code/puzzles/day1">Puzzles</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/channels/632150470000902164/913451015246868530" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/scala_lang" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://scala.epfl.ch/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Scala Center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/scalacenter" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Scala Center, Built with Docusaurus.</div></div></div></footer></div>
<script src="/scala-advent-of-code/assets/js/runtime~main.cff3ab2b.js"></script>
<script src="/scala-advent-of-code/assets/js/main.339c7521.js"></script>
</body>
</html>