<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.7">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<script src="https://plausible.scala-lang.org/js/script.js" defer="defer" async data-domain="scalacenter.github.io"></script><title data-react-helmet="true">Day 20: Trench Map | Scala Center Advent of Code</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://scalacenter.github.io//scala-advent-of-code/puzzles/day20"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Day 20: Trench Map | Scala Center Advent of Code"><meta data-react-helmet="true" name="description" content="Puzzle description"><meta data-react-helmet="true" property="og:description" content="Puzzle description"><link data-react-helmet="true" rel="shortcut icon" href="/scala-advent-of-code/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://scalacenter.github.io//scala-advent-of-code/puzzles/day20"><link data-react-helmet="true" rel="alternate" href="https://scalacenter.github.io//scala-advent-of-code/puzzles/day20" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://scalacenter.github.io//scala-advent-of-code/puzzles/day20" hreflang="x-default"><link rel="stylesheet" href="/scala-advent-of-code/assets/css/styles.16a73e1b.css">
<link rel="preload" href="/scala-advent-of-code/assets/js/runtime~main.a06e5205.js" as="script">
<link rel="preload" href="/scala-advent-of-code/assets/js/main.b7c75463.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/scala-advent-of-code/"><div class="navbar__logo"><img src="/scala-advent-of-code/img/scala-tree.png" alt="Scala Center" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/scala-advent-of-code/img/scala-tree.png" alt="Scala Center" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Scala Advent of Code</b></a><a class="navbar__item navbar__link navbar__link--active" href="/scala-advent-of-code/introduction">Introduction</a><a class="navbar__item navbar__link navbar__link--active" href="/scala-advent-of-code/setup">Setup</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Puzzles</a><ul class="dropdown__menu"><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day1">Day 1</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day2">Day 2</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day3">Day 3</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day4">Day 4</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day5">Day 5</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day6">Day 6</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day7">Day 7</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day8">Day 8</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day9">Day 9</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day10">Day 10</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day11">Day 11</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day12">Day 12</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day13">Day 13</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day14">Day 14</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day15">Day 15</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day16">Day 16</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day17">Day 17</a></li><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day20">Day 20</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day21">Day 21</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day22">Day 21</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day23">Day 21</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day24">Day 21</a></li><li><a class="dropdown__link navbar__link--active" href="/scala-advent-of-code/puzzles/day25">Day 21</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/scalacenter/scala-advent-of-code" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">🌜</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">🌞</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/scala-advent-of-code/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/scala-advent-of-code/setup">Setup</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Puzzles</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day1">Day 1: Sonar Sweep</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day2">Day 2: Dive!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day3">Day 3: Binary Diagnostic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day4">Day 4: Giant Squid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day5">Day 5: Hydrothermal Venture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day6">Day 6: Lanternfish</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day7">Day 7: The Treachery of Whales</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day8">Day 8: Seven Segment Search</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day9">Day 9: Smoke Basin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day10">Day 10: Syntax Scoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day11">Day 11: Dumbo Octopus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day12">Day 12: Passage Pathing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day13">Day 13: Transparent Origami</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day14">Day 14: Extended Polymerization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day15">Day 15: Chiton</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day16">Day 16: Packet Decoder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day17">Day 17: Trick Shot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day18">Day 18: Snailfish</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day19">Day 19: Beacon Scanner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/scala-advent-of-code/puzzles/day20">Day 20: Trench Map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day21">Day 21: Dirac Dice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day22">Day 22: Reactor Reboot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day23">Day 23: Amphipod</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day24">Day 24: Arithmetic Logic Unit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/scala-advent-of-code/puzzles/day25">Day 25: Sea Cucumber</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Day 20: Trench Map</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="puzzle-description">Puzzle description<a aria-hidden="true" class="hash-link" href="#puzzle-description" title="Direct link to heading">​</a></h2><p><a href="https://adventofcode.com/2021/day/20" target="_blank" rel="noopener noreferrer">https://adventofcode.com/2021/day/20</a></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="modeling-and-parsing-the-input">Modeling and parsing the input<a aria-hidden="true" class="hash-link" href="#modeling-and-parsing-the-input" title="Direct link to heading">​</a></h2><p>The input is an image enhancement algorithm string, and an initial input image.</p><p>The image is a black and white rectangle. We model the pixels with an
enumeration:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">enum Pixel:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case Lit, Dark</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>A pixel can either be lit, or dark.</p><p>In the input text, lit pixels are represented by the character &quot;#&quot;, whereas
dark pixels are represented by the character &quot;.&quot; (dot). We use pattern
matching to parse them:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">object Pixel:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def parse(char: Char): Pixel =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    char match</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;#&#x27; =&gt; Pixel.Lit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;.&#x27; =&gt; Pixel.Dark</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end Pixel</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In case the input is malformed (ie, it contains a character other than &quot;#&quot;
or &quot;.&quot;), the method <code>parse</code> raises an exception.</p><p>The enhancement algorithm string is provided as a line of 512 pixels. We
parse it as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class Enhancer(enhancementString: IndexedSeq[Pixel])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object Enhancer:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def parse(input: String): Enhancer =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Enhancer(input.map(Pixel.parse))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end Enhancer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>There is a subtlety regarding the input image to which we want to apply the
enhancement algorithm: its size is infinite. Initially, its pixels are all
dark except in the rectangle we are given as initial input. So, we model an
image as a two-dimensional indexed sequence, and the color of all the pixels
that are out of the bounds of that two-dimensional indexed sequence:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class Image(pixels: IndexedSeq[IndexedSeq[Pixel]], outOfBoundsPixel: Pixel):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require(pixels.map(_.length).distinct.size == 1, &quot;All the rows must have the same length&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val height = pixels.length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val width  = pixels(0).length</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Since there is no direct way to model two-dimensional collections in the
standard library, we model the table of pixels as a collection of rows,
where each row is a collection of pixels. We add the call to <code>require</code> to
make sure that all the lines have the same length.</p><p>We parse the input image by parsing every line of the provided rectangular
area, and by setting the color of the out-of-bounds pixels to <code>Dark</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">object Image:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def parse(input: String): Image =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val pixels =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .linesIterator.map(line =&gt; line.map(Pixel.parse))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .toIndexedSeq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val outOfBoundsPixel = Pixel.Dark</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Image(pixels, outOfBoundsPixel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end Image</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Last, we parse both sections of the input with the following method:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">def parseEnhancerAndImage(input: String): (Enhancer, Image) =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val enhancerAndImage = input.split(&quot;\n\n&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val enhancer         = Enhancer.parse(enhancerAndImage(0))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val image            = Image.parse(enhancerAndImage(1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (enhancer, image)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="image-enhancement-algorithm">Image enhancement algorithm<a aria-hidden="true" class="hash-link" href="#image-enhancement-algorithm" title="Direct link to heading">​</a></h2><p>The image enhancement algorithm needs to compute an integer value for every
location of the input image. The integer value is made of 9 bits, whose
value is taken from the state of the 9 pixels around the location (a lit
pixel means <code>1</code>, and a dark pixel means <code>0</code>).</p><p>That 9-bit integer value is then used as an index in the enhancement
algorithm string to find the state of the output pixel at that location.</p><p>We implement the algorithm as a method of the class <code>Enhancer</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Enhancer(enhancementString: IndexedSeq[Pixel]):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def enhance(image: Image): Image =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val pixels =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      for y &lt;- -1 until (image.height + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      yield</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for x &lt;- -1 until (image.width + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        yield enhancementString(locationValue(image, x, y))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val outOfBoundsPixel =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      val value = if image.outOfBoundsPixel == Pixel.Dark then 0 else 511</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      enhancementString(value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Image(pixels, outOfBoundsPixel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end enhance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end Enhancer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Since we look at the 9 pixels around every location, we look at locations
outside the image rectangle where some of these 9 pixels overlap with the
rectangle (hence the bounds <code>-1</code> and <code>height + 1</code> for the <code>y</code> coordinates).</p><p>The 9-bit integer value of each location is computed by an auxiliary method,
<code>locationValue</code>, which is shown below.</p><p>Last, we also compute the “enhancement” of the pixels that are out of the
bounds of the image rectangle. Since these pixels are all the same, the 9
pixels around any location out of the bounds of the rectangle will always be
either all lit or all dark. The binary value corresponding to all pixels
dark is <code>000000000</code>, which equals <code>0</code>, and the binary value corresponding to
all pixels lit is <code>111111111</code>, which equals <code>511</code>.</p><p>Here is the implementation of the auxiliary method <code>locationValue</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">def locationValue(image: Image, x: Int, y: Int): Int =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  var result = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    yy &lt;- (y - 1) to (y + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xx &lt;- (x - 1) to (x + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result = result &lt;&lt; 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if image.pixel(xx, yy) == Pixel.Lit then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      result = result | 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end if</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end locationValue</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We read the 9 pixels around the provided location, starting from the
top-left corner, and going to the right. If a pixel is lit, we interpret it
as a <code>1</code>. At every iteration, we shift the previously computed result one
bit to the left before reading the new bit.</p><p>To read the pixel value in the image, we use a handy method <code>pixel</code>, defined
in the class <code>Image</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">def pixel(x: Int, y: Int): Pixel =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if y &lt; 0 || y &gt;= height then outOfBoundsPixel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else if x &lt; 0 || x &gt;= width then outOfBoundsPixel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  else pixels(y)(x)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This method implements the fact that the image has an infinite size. It
checks the bounds of the location to access, and when the location is out of
the bounds of the rectangle image, it returns the <code>outOfBoundsPixel</code> color
of the image.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="solution-of-part-1">Solution of part 1<a aria-hidden="true" class="hash-link" href="#solution-of-part-1" title="Direct link to heading">​</a></h2><p>We were asked to apply two times in a row the enhancement algorithm on the
input image, and to compute the number of lit pixels in the output image:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">def part1(input: String): Int =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val (enhancer, image0) = parseEnhancerAndImage(input)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val image1 = enhancer.enhance(image0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val image2 = enhancer.enhance(image1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image2.countLitPixels()</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The method <code>countLitPixels</code> is defined as follows in the class <code>Image</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class Image(pixels: IndexedSeq[IndexedSeq[Pixel]], outOfBoundsPixel: Pixel):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def countLitPixels(): Int =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pixels.view.flatten.count(_ == Pixel.Lit)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We flatten the rows of pixels into a single collection of pixels, and we
count the lit pixels on it. The call to <code>view</code> before <code>flatten</code> allows us to
traverse the rows of pixels without constructing the flattened collection.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="full-code-for-part-1">Full code for part 1<a aria-hidden="true" class="hash-link" href="#full-code-for-part-1" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">def part1(input: String): Int =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val (enhancer, image0) = parseEnhancerAndImage(input)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val image1 = enhancer.enhance(image0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val image2 = enhancer.enhance(image1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image2.countLitPixels()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def parseEnhancerAndImage(input: String): (Enhancer, Image) =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val enhancerAndImage = input.split(&quot;\n\n&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val enhancer         = Enhancer.parse(enhancerAndImage(0))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val image            = Image.parse(enhancerAndImage(1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (enhancer, image)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enum Pixel:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case Lit, Dark</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object Pixel:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def parse(char: Char): Pixel =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    char match</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;#&#x27; =&gt; Pixel.Lit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case &#x27;.&#x27; =&gt; Pixel.Dark</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end Pixel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object Enhancer:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def parse(input: String): Enhancer =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Enhancer(input.map(Pixel.parse))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end Enhancer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Enhancer(enhancementString: IndexedSeq[Pixel]):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def enhance(image: Image): Image =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val pixels =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      for y &lt;- -1 until (image.height + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      yield</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for x &lt;- -1 until (image.width + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        yield enhancementString(locationValue(image, x, y))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val outOfBoundsPixel =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      val value = if image.outOfBoundsPixel == Pixel.Dark then 0 else 511</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      enhancementString(value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Image(pixels, outOfBoundsPixel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end enhance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  private def locationValue(image: Image, x: Int, y: Int): Int =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var result = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      yy &lt;- (y - 1) to (y + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      xx &lt;- (x - 1) to (x + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      result = result &lt;&lt; 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if image.pixel(xx, yy) == Pixel.Lit then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result = result | 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      end if</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end for</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end locationValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end Enhancer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Image(pixels: IndexedSeq[IndexedSeq[Pixel]], val outOfBoundsPixel: Pixel):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  require(pixels.map(_.length).distinct.size == 1, &quot;All the rows must have the same length&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val height = pixels.length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val width  = pixels(0).length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def pixel(x: Int, y: Int): Pixel =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if y &lt; 0 || y &gt;= height then outOfBoundsPixel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else if x &lt; 0 || x &gt;= width then outOfBoundsPixel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else pixels(y)(x)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def countLitPixels(): Int =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pixels.view.flatten.count(_ == Pixel.Lit)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end Image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object Image:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def parse(input: String): Image =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val pixels =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .linesIterator.map(line =&gt; line.map(Pixel.parse))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .toIndexedSeq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val outOfBoundsPixel = Pixel.Dark</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Image(pixels, outOfBoundsPixel)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="solution-for-part-2">Solution for part 2<a aria-hidden="true" class="hash-link" href="#solution-for-part-2" title="Direct link to heading">​</a></h2><p>In part 2, we had to apply the “enhancement algorithm” 50 times instead
of just twice:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly scala"><pre tabindex="0" class="prism-code language-scala codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">def part2(input: String): Int =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  val (enhancer, image) = parseEnhancerAndImage(input)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  LazyList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .iterate(image)(enhancer.enhance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .apply(50)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .countLitPixels()</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We parse the input with the same method as in part1, <code>parseEnhancerAndImage</code>.</p><p>To apply the enhancer 50 times, we use a <code>LazyList</code>. First, we create an
<em>infinite</em> lazy list whose first element is the parsed input <code>image</code>, and
whose <code>n + 1</code> element is computed by calling <code>enhancer.enhance</code> on the
element <code>n</code>. Then, we compute its 50th element by calling <code>.apply(50)</code>. As a
consequence, only the first 50 elements will be computed at all.</p><p>Finally, we call <code>countLitPixels()</code> on the output image to count its number
of lit pixels.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="run-it-in-the-browser">Run it in the browser<a aria-hidden="true" class="hash-link" href="#run-it-in-the-browser" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="part-1">Part 1<a aria-hidden="true" class="hash-link" href="#part-1" title="Direct link to heading">​</a></h3><div id="day20-part1"></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="part-2">Part 2<a aria-hidden="true" class="hash-link" href="#part-2" title="Direct link to heading">​</a></h3><div id="day20-part2"></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="run-it-locally">Run it locally<a aria-hidden="true" class="hash-link" href="#run-it-locally" title="Direct link to heading">​</a></h2><p>You can get this solution locally by cloning the <a href="https://github.com/scalacenter/scala-advent-of-code" target="_blank" rel="noopener noreferrer">scalacenter/scala-advent-of-code</a> repository.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ git clone https://github.com/scalacenter/scala-advent-of-code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd scala-advent-of-code</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can run it with <a href="https://scala-cli.virtuslab.org/" target="_blank" rel="noopener noreferrer">scala-cli</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ scala-cli src -M day20.part1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The solution is: 5301</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ scala-cli src -M day20.part2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The solution is: 19492</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="solutions-from-the-community">Solutions from the community<a aria-hidden="true" class="hash-link" href="#solutions-from-the-community" title="Direct link to heading">​</a></h2><p>Share your solution to the Scala community by editing this page.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/scalacenter/scala-advent-of-code/edit/website/docs/puzzles/day20.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/scala-advent-of-code/puzzles/day19"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Day 19: Beacon Scanner</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/scala-advent-of-code/puzzles/day21"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Day 21: Dirac Dice<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#puzzle-description" class="table-of-contents__link toc-highlight">Puzzle description</a></li><li><a href="#modeling-and-parsing-the-input" class="table-of-contents__link toc-highlight">Modeling and parsing the input</a></li><li><a href="#image-enhancement-algorithm" class="table-of-contents__link toc-highlight">Image enhancement algorithm</a></li><li><a href="#solution-of-part-1" class="table-of-contents__link toc-highlight">Solution of part 1</a></li><li><a href="#full-code-for-part-1" class="table-of-contents__link toc-highlight">Full code for part 1</a></li><li><a href="#solution-for-part-2" class="table-of-contents__link toc-highlight">Solution for part 2</a></li><li><a href="#run-it-in-the-browser" class="table-of-contents__link toc-highlight">Run it in the browser</a><ul><li><a href="#part-1" class="table-of-contents__link toc-highlight">Part 1</a></li><li><a href="#part-2" class="table-of-contents__link toc-highlight">Part 2</a></li></ul></li><li><a href="#run-it-locally" class="table-of-contents__link toc-highlight">Run it locally</a></li><li><a href="#solutions-from-the-community" class="table-of-contents__link toc-highlight">Solutions from the community</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Content</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/scala-advent-of-code/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/scala-advent-of-code/setup">Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/scala-advent-of-code/puzzles/day1">Puzzles</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/channels/632150470000902164/913451015246868530" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/scala_lang" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://scala.epfl.ch/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Scala Center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/scalacenter" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Scala Center, Built with Docusaurus.</div></div></div></footer></div>
<script src="/scala-advent-of-code/assets/js/runtime~main.a06e5205.js"></script>
<script src="/scala-advent-of-code/assets/js/main.b7c75463.js"></script>
</body>
</html>